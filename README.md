# RedNote MCP

[![English](https://img.shields.io/badge/English-Click-yellow)](docs/README.en.md)
[![ç®€ä½“ä¸­æ–‡](https://img.shields.io/badge/ç®€ä½“ä¸­æ–‡-ç‚¹å‡»æŸ¥çœ‹-orange)](README.md)
[![npm](https://img.shields.io/npm/v/rednote-mcp)](https://www.npmjs.com/package/rednote-mcp)

å°çº¢ä¹¦å†…å®¹è®¿é—®å’Œå‘å¸ƒçš„MCPæœåŠ¡å™¨ï¼Œæ”¯æŒé€šè¿‡Model Context Protocolåœ¨AIå®¢æˆ·ç«¯ä¸­æœç´¢ã€è·å–å’Œå‘å¸ƒå°çº¢ä¹¦å†…å®¹ã€‚

https://github.com/user-attachments/assets/06b2c67f-d9ed-4a30-8f1d-9743f3edaa3a

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” å†…å®¹è·å–åŠŸèƒ½
- **å…³é”®è¯æœç´¢ç¬”è®°** - æ ¹æ®å…³é”®è¯æœç´¢å°çº¢ä¹¦ç¬”è®°ï¼Œè·å–æ ‡é¢˜ã€å†…å®¹ã€ä½œè€…ã€äº’åŠ¨æ•°æ®ç­‰
- **è·å–ç¬”è®°è¯¦æƒ…** - é€šè¿‡URLè·å–ç¬”è®°çš„å®Œæ•´å†…å®¹å’Œå…ƒæ•°æ®
- **è·å–ç¬”è®°è¯„è®º** - è·å–æŒ‡å®šç¬”è®°çš„è¯„è®ºåˆ—è¡¨ï¼ŒåŒ…æ‹¬è¯„è®ºè€…ã€å†…å®¹ã€ç‚¹èµæ•°ç­‰

### ğŸ“ å†…å®¹å‘å¸ƒåŠŸèƒ½
- **å‘å¸ƒå›¾æ–‡ç¬”è®°** - æ”¯æŒå‘å¸ƒå¸¦å›¾ç‰‡çš„å°çº¢ä¹¦ç¬”è®°
- **å‘å¸ƒçº¯æ–‡æœ¬ç¬”è®°** - å‘å¸ƒçº¯æ–‡æœ¬å†…å®¹ï¼ˆæœ‰é™æ”¯æŒï¼‰
- **æ ‡ç­¾å’Œéšç§è®¾ç½®** - æ”¯æŒæ·»åŠ æ ‡ç­¾å’Œè®¾ç½®ç¬”è®°éšç§çŠ¶æ€
- **å¤šå›¾ç‰‡ä¸Šä¼ ** - æ”¯æŒåŒæ—¶ä¸Šä¼ å¤šå¼ å›¾ç‰‡

### ğŸ” è®¤è¯å’Œç®¡ç†
- **CookieæŒä¹…åŒ–** - è‡ªåŠ¨ä¿å­˜å’Œç®¡ç†ç™»å½•çŠ¶æ€
- **æ™ºèƒ½ç™»å½•æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹ç™»å½•çŠ¶æ€ï¼Œç¡®ä¿æ“ä½œæœ‰æ•ˆæ€§
- **è·¨å¹³å°æ”¯æŒ** - æ”¯æŒWindowsã€macOSã€Linuxç³»ç»Ÿ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²å®‰è£…ï¼š
- Node.js >= 16
- npm >= 7

é¦–å…ˆå®‰è£…Playwrightæµè§ˆå™¨ç¯å¢ƒï¼š

```bash
npx playwright install
```

### å®‰è£…æ–¹å¼

#### æ–¹å¼ä¸€ï¼šNPMå…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# å…¨å±€å®‰è£…
npm install -g rednote-mcp

# åˆå§‹åŒ–ç™»å½•
rednote-mcp init
```

#### æ–¹å¼äºŒï¼šä»æºç å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/ifuryst/rednote-mcp.git
cd rednote-mcp

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºé¡¹ç›®
npm run build

# åˆå§‹åŒ–ç™»å½•
node dist/cli.js init
```

## ğŸ“‹ é…ç½®ä½¿ç”¨

### 1. åˆå§‹åŒ–ç™»å½•

é¦–æ¬¡ä½¿ç”¨éœ€è¦å…ˆè¿›è¡Œç™»å½•ï¼š

```bash
# ä½¿ç”¨å…¨å±€å®‰è£…çš„å‘½ä»¤
rednote-mcp init

# æˆ–è€…ä»æºç ç›®å½•è¿è¡Œ
node dist/cli.js init

# æ”¯æŒè‡ªå®šä¹‰è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
rednote-mcp init 30
```

æ‰§è¡Œç™»å½•æµç¨‹ï¼š
1. ğŸŒ è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨çª—å£
2. ğŸ“± è·³è½¬åˆ°å°çº¢ä¹¦ç™»å½•é¡µé¢
3. ğŸ‘¤ æ‰‹åŠ¨å®Œæˆç™»å½•æ“ä½œï¼ˆæ‰«ç æˆ–å¯†ç ç™»å½•ï¼‰
4. âœ… ç™»å½•æˆåŠŸåè‡ªåŠ¨ä¿å­˜Cookie

### 2. é…ç½®MCPå®¢æˆ·ç«¯

#### Cursorç¼–è¾‘å™¨é…ç½®

åœ¨Cursorçš„è®¾ç½®æ–‡ä»¶ä¸­æ·»åŠ MCPæœåŠ¡å™¨é…ç½®ï¼š

**æ–¹å¼ä¸€ï¼šä½¿ç”¨å…¨å±€å®‰è£…çš„å‘½ä»¤**
```json
{
  "mcpServers": {
    "rednote": {
      "command": "rednote-mcp",
      "args": ["--stdio"],
      "env": {
        "NODE_ENV": "production"
      }
    }
  }
}
```

**æ–¹å¼äºŒï¼šä½¿ç”¨npx**
```json
{
  "mcpServers": {
    "rednote": {
      "command": "npx",
      "args": ["rednote-mcp", "--stdio"],
      "env": {
        "NODE_ENV": "production"
      }
    }
  }
}
```

**æ–¹å¼ä¸‰ï¼šä½¿ç”¨æœ¬åœ°è·¯å¾„ï¼ˆæºç å®‰è£…ï¼‰**
```json
{
  "mcpServers": {
    "rednote": {
      "command": "node",
      "args": ["/path/to/rednote-mcp/dist/cli.js", "--stdio"],
      "env": {
        "NODE_ENV": "production"
      }
    }
  }
}
```

#### Claude Desktopé…ç½®

åœ¨Claude Desktopçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š

**Windows:** `%APPDATA%\Claude\claude_desktop_config.json`
**macOS:** `~/Library/Application Support/Claude/claude_desktop_config.json`
**Linux:** `~/.config/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "rednote": {
      "command": "rednote-mcp",
      "args": ["--stdio"]
    }
  }
}
```

### 3. é‡å¯å®¢æˆ·ç«¯

é…ç½®å®Œæˆåï¼Œé‡å¯æ‚¨çš„MCPå®¢æˆ·ç«¯ï¼ˆCursoræˆ–Claude Desktopï¼‰ä½¿é…ç½®ç”Ÿæ•ˆã€‚

## ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•

é…ç½®æˆåŠŸåï¼Œæ‚¨å¯ä»¥åœ¨AIå®¢æˆ·ç«¯ä¸­ä½¿ç”¨ä»¥ä¸‹å·¥å…·ï¼š

### æœç´¢ç¬”è®°

```
è¯·å¸®æˆ‘æœç´¢å…³äº"ç¾é£Ÿ"çš„å°çº¢ä¹¦ç¬”è®°ï¼Œé™åˆ¶10æ¡ç»“æœ
```

### è·å–ç¬”è®°å†…å®¹

```
è¯·è·å–è¿™ä¸ªå°çº¢ä¹¦ç¬”è®°çš„è¯¦ç»†å†…å®¹ï¼šhttps://www.xiaohongshu.com/discovery/item/...
```

### å‘å¸ƒç¬”è®°

```
è¯·å¸®æˆ‘å‘å¸ƒä¸€ç¯‡å°çº¢ä¹¦ç¬”è®°ï¼š
æ ‡é¢˜ï¼šä»Šæ—¥ç¾é£Ÿåˆ†äº«
å†…å®¹ï¼šä»Šå¤©å°è¯•äº†æ–°çš„èœè°±ï¼Œå‘³é“å¾ˆæ£’ï¼æ¨èç»™å¤§å®¶ã€‚
æ ‡ç­¾ï¼šç¾é£Ÿï¼Œç”Ÿæ´»ï¼Œåˆ†äº«
å›¾ç‰‡ï¼š/path/to/image1.jpg, /path/to/image2.jpg
```

### è·å–è¯„è®º

```
è¯·è·å–è¿™ä¸ªç¬”è®°ä¸‹çš„è¯„è®ºï¼šhttps://www.xiaohongshu.com/discovery/item/...
```

## ğŸ”§ å‘½ä»¤è¡Œå·¥å…·

é™¤äº†MCPæœåŠ¡å¤–ï¼Œè¿˜æä¾›å‘½ä»¤è¡Œå·¥å…·ï¼š

```bash
# åˆå§‹åŒ–ç™»å½•
rednote-mcp init [timeout]

# æ‰“åŒ…æ—¥å¿—æ–‡ä»¶
rednote-mcp pack-logs

# æ‰“å¼€æ—¥å¿—ç›®å½•
rednote-mcp open-logs

# æŸ¥çœ‹å¸®åŠ©
rednote-mcp --help
```

## ğŸ§ª å¼€å‘å’Œè°ƒè¯•

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/ifuryst/rednote-mcp.git
cd rednote-mcp

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼è¿è¡Œ
npm run dev

# æ„å»ºé¡¹ç›®
npm run build

# è¿è¡Œæµ‹è¯•
npm test
```

### ä½¿ç”¨MCP Inspectorè°ƒè¯•

MCP Inspectoræ˜¯å®˜æ–¹æä¾›çš„è°ƒè¯•å·¥å…·ï¼š

```bash
# ä½¿ç”¨å…¨å±€å®‰è£…çš„ç‰ˆæœ¬
npx @modelcontextprotocol/inspector rednote-mcp --stdio

# ä½¿ç”¨npxç‰ˆæœ¬
npx @modelcontextprotocol/inspector npx rednote-mcp --stdio

# ä½¿ç”¨æœ¬åœ°æ„å»ºç‰ˆæœ¬
npx @modelcontextprotocol/inspector node dist/cli.js --stdio
```

è¿™å°†å¯åŠ¨ä¸€ä¸ªWebç•Œé¢ï¼Œå¯ä»¥å®æ—¶æŸ¥çœ‹MCPåè®®çš„è¯·æ±‚å’Œå“åº”ã€‚

### æ—¥å¿—ç®¡ç†

é¡¹ç›®æä¾›å®Œæ•´çš„æ—¥å¿—ç³»ç»Ÿï¼š

```bash
# æŸ¥çœ‹æ—¥å¿—ç›®å½•
rednote-mcp open-logs

# æ‰“åŒ…æ‰€æœ‰æ—¥å¿—
rednote-mcp pack-logs
```

æ—¥å¿—æ–‡ä»¶ä½ç½®ï¼š
- **Windows:** `%APPDATA%\rednote-mcp\logs\`
- **macOS/Linux:** `~/.local/share/rednote-mcp/logs/`

## ğŸ“ é¡¹ç›®ç»“æ„

```
rednote-mcp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ auth/          # è®¤è¯ç®¡ç†
â”‚   â”œâ”€â”€ tools/         # æ ¸å¿ƒåŠŸèƒ½å·¥å…·
â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ cli.ts         # å‘½ä»¤è¡Œå…¥å£
â”‚   â””â”€â”€ index.ts       # ä¸»å…¥å£
â”œâ”€â”€ dist/              # æ„å»ºè¾“å‡º
â”œâ”€â”€ docs/              # æ–‡æ¡£
â””â”€â”€ test-assets/       # æµ‹è¯•èµ„æº
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç™»å½•è¦æ±‚**ï¼šé¦–æ¬¡ä½¿ç”¨å¿…é¡»æ‰§è¡Œ`init`å‘½ä»¤è¿›è¡Œç™»å½•
2. **Cookieå®‰å…¨**ï¼šCookieæ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œè¯·å¦¥å–„ä¿ç®¡
3. **å®šæœŸæ›´æ–°**ï¼šå»ºè®®å®šæœŸé‡æ–°ç™»å½•ï¼Œé¿å…Cookieå¤±æ•ˆ
4. **ç½‘ç»œç¯å¢ƒ**ï¼šç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®šï¼Œèƒ½å¤Ÿè®¿é—®å°çº¢ä¹¦
5. **å›¾ç‰‡è·¯å¾„**ï¼šå‘å¸ƒç¬”è®°æ—¶ï¼Œå›¾ç‰‡è·¯å¾„å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„
6. **å‘å¸ƒé™åˆ¶**ï¼šéµå®ˆå°çº¢ä¹¦ç¤¾åŒºè§„èŒƒï¼Œé¿å…é¢‘ç¹å‘å¸ƒ

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add amazing feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. æäº¤Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºåè®®ã€‚

## ğŸ› é—®é¢˜åé¦ˆ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹[Issues](https://github.com/ifuryst/rednote-mcp/issues)é¡µé¢
2. è¿è¡Œ`rednote-mcp pack-logs`æ‰“åŒ…æ—¥å¿—
3. åˆ›å»ºæ–°çš„Issueå¹¶é™„ä¸Šæ—¥å¿—æ–‡ä»¶

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v0.2.3
- âœ… å®Œå–„å‘å¸ƒåŠŸèƒ½ï¼Œæ”¯æŒå›¾ç‰‡ä¸Šä¼ 
- âœ… ä¼˜åŒ–ç™»å½•æ£€æµ‹é€»è¾‘
- âœ… æ”¹è¿›é¡µé¢å…ƒç´ è¯†åˆ«
- âœ… å¢å¼ºé”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

### v0.2.x
- âœ… æ”¯æŒå°çº¢ä¹¦ç¬”è®°å‘å¸ƒ
- âœ… æ·»åŠ æ ‡ç­¾å’Œéšç§è®¾ç½®
- âœ… å®Œå–„è®¤è¯ç®¡ç†

### v0.1.x  
- âœ… åŸºç¡€æœç´¢å’Œè·å–åŠŸèƒ½
- âœ… MCPåè®®æ”¯æŒ
- âœ… CookieæŒä¹…åŒ– 
